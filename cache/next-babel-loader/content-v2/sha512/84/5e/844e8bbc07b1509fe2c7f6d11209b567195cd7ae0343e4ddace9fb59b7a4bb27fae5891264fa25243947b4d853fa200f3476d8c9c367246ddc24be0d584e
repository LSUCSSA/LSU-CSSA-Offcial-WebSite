{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Typography, Card, Row, Col, Skeleton, Empty, List } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nvar Title = Typography.Title,\n    Paragraph = Typography.Paragraph;\nvar Meta = Card.Meta;\n\nvar EventPage = function EventPage(_ref) {\n  var events = _ref.events;\n  var router = useRouter();\n  var id = router.query.id; // const remainder = events.length % 3;\n  // const Column = ({data}) => (\n  //     <Col xs={24} md={8} style={{width: \"300\"}}>\n  //         {data ? (\n  //             <Link href=\"/info/[eventID]\" as={`/info/${data._id}`}>\n  //                 <Card\n  //                     hoverable\n  //                     title={<div style={{textAlign: 'center'}}>{data.title}</div>}\n  //                     cover={<div\n  //                         style={{\n  //                             backgroundImage: `url(${process.env.NEXT_PUBLIC_API + data.thumb_media?.url})`,\n  //                             backgroundPosition: 'center',\n  //                             backgroundSize: 'cover',\n  //                             height: 220\n  //                         }}/>}\n  //                 >\n  //                     <Meta style={{\n  //                         height: \"80px\",\n  //                         textAlign: 'center',\n  //                         overflow: \"hidden\",\n  //                         textOverflow: \"ellipsis\",\n  //                         paddingBottom: 0\n  //                     }} description={data.digest}/>\n  //                     <div style={{\n  //                         textAlign: 'right',\n  //                         width: \"100%\"\n  //                     }}>{new Date(data.update_time).toLocaleDateString()}</div>\n  //                 </Card>\n  //             </Link>\n  //         ) : (\n  //             <Skeleton style={{height: \"300px\"}}/>\n  //         )}\n  //     </Col>\n  // );\n  // const EventsInGrid = () => {\n  //     let data = [];\n  //     for (let i = 0; i < events.length; i++) {\n  //         if (i % 3 === 0 && i !== 0) {\n  //             data.push(\n  //                 <Row type=\"flex\" align=\"middle\" justify=\"space-between\" gutter={[20, 40]}>\n  //                     <Column data={events[i - 2]}/>\n  //                     <Column data={events[i - 1]}/>\n  //                     <Column data={events[i]}/>\n  //                 </Row>\n  //             );\n  //         }\n  //         if (i === events.length - (remainder - 1) - 1) {\n  //             data.push(\n  //                 <Row type=\"flex\" align=\"middle\" justify=\"space-between\" gutter={[20, 40]}>\n  //                     {[...Array(remainder).keys()].map(val => {\n  //                         return <Column data={events[i + val]}/>;\n  //                     })}\n  //                 </Row>\n  //             );\n  //         }\n  //     }\n  //     return data.length !== 0 ? (\n  //         data\n  //     ) : (\n  //         <Empty style={{width: \"100%\", height: \"100%\"}} description={false}/>\n  //     );\n  // };\n  // console.log(events);\n  // const imgUrl = `${process.env.NEXT_PUBLIC_API}/wechat-image-proxy?url=`;\n\n  return events.length !== 0 ? __jsx(List, {\n    grid: {\n      gutter: 16,\n      xs: 1,\n      sm: 2,\n      md: 2,\n      lg: 3,\n      xl: 4,\n      xxl: 5\n    },\n    dataSource: events,\n    style: {\n      marginLeft: 20,\n      marginRight: 20,\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    renderItem: function renderItem(item) {\n      return __jsx(List.Item, null, __jsx(Link, {\n        href: \"/info/[eventID]\",\n        as: \"/info/\".concat(item._id)\n      }, __jsx(Card, {\n        hoverable: true,\n        title: __jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          }\n        }, item.title),\n        style: {\n          width: \"300px\"\n        },\n        cover: __jsx(\"div\", {\n          style: {\n            backgroundImage: \"url(\".concat(item.thumb_media ? process.env.NEXT_PUBLIC_API + item.thumb_media.url : item.thumb_url, \")\"),\n            backgroundPosition: 'center',\n            backgroundSize: 'cover',\n            height: 220\n          }\n        })\n      }, __jsx(Meta, {\n        style: {\n          height: \"80px\",\n          textAlign: 'center',\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          paddingBottom: 0\n        },\n        description: item.digest\n      }), __jsx(\"div\", {\n        style: {\n          textAlign: 'right',\n          width: \"100%\"\n        }\n      }, new Date(item.update_time).toLocaleDateString()))));\n    }\n  }) : __jsx(Empty, {\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    description: false\n  });\n};\n\nexport var __N_SSG = true;\nexport default EventPage;","map":null,"metadata":{},"sourceType":"module"}