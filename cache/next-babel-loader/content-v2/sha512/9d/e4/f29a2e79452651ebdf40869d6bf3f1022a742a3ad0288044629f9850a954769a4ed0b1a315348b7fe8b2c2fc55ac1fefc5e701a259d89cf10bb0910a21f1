{"ast":null,"code":"import _regeneratorRuntime from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Typography } from \"antd\";\nimport Viewer, { Worker, defaultLayout, SpecialZoomLevel } from '@phuocng/react-pdf-viewer';\nimport { useEffect, useState } from \"react\";\nvar Title = Typography.Title;\n\nvar NewComer = function NewComer(_ref) {\n  var url = _ref.url;\n\n  var _useState = useState(false),\n      match = _useState[0],\n      setMatch = _useState[1];\n\n  useEffect(function () {\n    var mobile = window.matchMedia(\"(max-width: 600px)\");\n\n    var checkWidth = function checkWidth(media) {\n      if (media.matches) {\n        setMatch(media.matches);\n      } else {\n        setMatch(false);\n      }\n    };\n\n    checkWidth(mobile);\n    mobile.addListener(checkWidth);\n  });\n\n  var renderToolbar = function renderToolbar(toolbarSlot) {\n    return __jsx(\"div\", {\n      style: {\n        alignItems: 'center',\n        display: 'flex',\n        width: '100%'\n      }\n    }, __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.toggleSidebarButton), __jsx(\"div\", {\n      style: {\n        alignItems: 'center',\n        display: 'flex',\n        flexGrow: 1,\n        flexShrink: 1,\n        justifyContent: 'center'\n      }\n    }, match ? __jsx(React.Fragment, null, __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.previousPageButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.currentPage + 1, \" / \", toolbarSlot.numPages), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.nextPageButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomOutButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomPopover), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomInButton)) : __jsx(React.Fragment, null, __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.previousPageButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.currentPage + 1, \" / \", toolbarSlot.numPages), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.nextPageButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomOutButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomPopover), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.zoomInButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.printButton), __jsx(\"div\", {\n      style: {\n        padding: '0 2px'\n      }\n    }, toolbarSlot.fullScreenButton))));\n  };\n\n  var layout = function layout(isSidebarOpened, container, main, toolbar, sidebar) {\n    return defaultLayout(isSidebarOpened, container, main, toolbar(renderToolbar), sidebar);\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      textAlign: 'center'\n    }\n  }, __jsx(Title, {\n    level: 2\n  }, \"\\u63A5\\u673A\\u7CFB\\u7EDF\"), __jsx(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }), __jsx(Title, {\n    level: 2\n  }, \"\\u65B0\\u751F\\u624B\\u518C\"), __jsx(Worker, {\n    workerUrl: \"https://unpkg.com/pdfjs-dist@2.4.456/build/pdf.worker.min.js\"\n  }, __jsx(\"div\", {\n    className: \"newcomer\"\n  }, __jsx(Viewer, {\n    fileUrl: \"\".concat(process.env.NEXT_PUBLIC_API + url),\n    defaultScale: SpecialZoomLevel.PageFit,\n    layout: layout\n  }))));\n};\n\nNewComer.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var res, pdfLink;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(\"\".concat(process.env.NEXT_PUBLIC_API, \"/newcomer-guide\"));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return res.json();\n\n        case 5:\n          pdfLink = _context.sent;\n          return _context.abrupt(\"return\", {\n            url: pdfLink.guideFileUrl\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default NewComer;","map":null,"metadata":{},"sourceType":"module"}