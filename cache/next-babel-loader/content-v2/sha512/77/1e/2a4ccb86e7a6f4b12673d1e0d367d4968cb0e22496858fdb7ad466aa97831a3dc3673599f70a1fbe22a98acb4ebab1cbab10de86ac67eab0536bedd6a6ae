{"ast":null,"code":"import _regeneratorRuntime from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectDestructuringEmpty from \"/home/runner/work/LSU-CSSA-Offcial-WebSite/LSU-CSSA-Offcial-WebSite/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Form, Input, Button, Checkbox, Radio, DatePicker, InputNumber, Typography, notification, Row, Col } from 'antd';\nvar tailLayout = {\n  wrapperCol: {\n    span: 24\n  }\n};\nvar TextArea = Input.TextArea;\nvar Title = Typography.Title;\n\nvar JoinUs = function JoinUs(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var res, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return form.validateFields();\n\n            case 2:\n              _context.next = 4;\n              return fetch(\"\".concat(process.env.NEXT_PUBLIC_API, \"/join-applications\"), {\n                method: \"POST\",\n                body: JSON.stringify(values)\n              });\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              response = _context.sent;\n              console.log(response);\n\n              if (!(response.statusCode !== 200)) {\n                _context.next = 15;\n                break;\n              }\n\n              if (!(response.data[0].messages[0].message === \"Email already taken.\")) {\n                _context.next = 13;\n                break;\n              }\n\n              notification.error({\n                message: \"邮箱已存在.\"\n              });\n              return _context.abrupt(\"return\");\n\n            case 13:\n              notification.error({\n                message: \"未知错误, 请稍后再试.\"\n              });\n              return _context.abrupt(\"return\");\n\n            case 15:\n              // form.resetFields();\n              notification.success({\n                message: \"提交成功! 请耐心等待回复.\"\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onFinishFailed = function onFinishFailed(errorInfo) {\n    console.log('Failed:', errorInfo);\n  };\n\n  return __jsx(\"div\", {\n    className: \"joinus\"\n  }, __jsx(\"div\", {\n    className: \"joinus-background-image\"\n  }), __jsx(\"div\", {\n    className: \"outter\"\n  }, __jsx(\"div\", {\n    style: {\n      paddingTop: \"3%\",\n      paddingBottom: \"3%\"\n    }\n  }, __jsx(\"div\", {\n    className: \"joinusForm\"\n  }, __jsx(\"span\", {\n    style: {\n      marginTop: \"-15px\",\n      marginLeft: \"2%\",\n      background: \"white\",\n      color: \"#3a0f87\",\n      display: \"inline-block\",\n      fontSize: \"24px\",\n      position: \"absolute\"\n    }\n  }, \"\\u52A0\\u5165\\u6211\\u4EEC\"), __jsx(Form, {\n    form: form,\n    name: \"basic\",\n    layout: \"vertical\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    style: {\n      paddingLeft: \"10%\",\n      paddingRight: \"10%\",\n      paddingTop: \"5%\"\n    }\n  }, __jsx(Row, {\n    gutter: 32\n  }, __jsx(Col, {\n    span: 12\n  }, __jsx(Form.Item, {\n    // label=\"姓名\"\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: '请输入名字'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"*\\u59D3\\u540D\"\n  }))), __jsx(Col, {\n    span: 6\n  }, __jsx(Form.Item, {\n    // label=\"年龄\"\n    name: \"age\",\n    rules: [{\n      required: true,\n      message: '请输入年龄'\n    }]\n  }, __jsx(InputNumber, {\n    min: 1,\n    max: 100,\n    placeholder: \"*\\u5E74\\u9F84\"\n  }))), __jsx(Col, {\n    span: 6\n  }, __jsx(Form.Item, {\n    name: \"sex\",\n    rules: [{\n      required: true,\n      message: '请选择性别'\n    }]\n  }, __jsx(Radio.Group, null, __jsx(Radio, {\n    value: \"male\"\n  }, \"\\u7537\"), __jsx(Radio, {\n    value: \"female\"\n  }, \"\\u5973\"))))), __jsx(Row, null, __jsx(Col, {\n    span: 24\n  }, __jsx(Form.Item, {\n    // label=\"邮箱\"\n    name: \"email\",\n    rules: [{\n      type: 'email',\n      required: true,\n      message: '请输入正确的邮箱'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"*\\u90AE\\u7BB1\"\n  })))), __jsx(Form.Item, {\n    wrapperCol: {\n      sm: 24\n    } // label=\"在读院校\"\n    ,\n    name: \"school\",\n    rules: [{\n      required: true,\n      message: '请输入在读院校'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"*\\u5728\\u8BFB\\u9662\\u6821\"\n  })), __jsx(Row, {\n    gutter: 32\n  }, __jsx(Col, {\n    span: 12\n  }, __jsx(Form.Item, {\n    // label=\"学历水平\"\n    name: \"level\",\n    rules: [{\n      required: true,\n      message: '请输入学历水平'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"*\\u5B66\\u5386\\u6C34\\u5E73\"\n  }))), __jsx(Col, {\n    span: 12\n  }, __jsx(Form.Item, {\n    // label=\"留学年限\"\n    name: \"studyYear\",\n    rules: [{\n      required: true,\n      message: '请输入留学年限'\n    }]\n  }, __jsx(InputNumber, {\n    style: {\n      width: \"100%\"\n    },\n    min: 0,\n    max: 20,\n    placeholder: \"*\\u7559\\u5B66\\u5E74\\u9650\"\n  })))), __jsx(Form.Item, {\n    // label=\"联系方式\"\n    name: \"contact\",\n    rules: [{\n      required: true,\n      message: '请输入联系方式'\n    }]\n  }, __jsx(TextArea, {\n    placeholder: \"*\\u8054\\u7CFB\\u65B9\\u5F0F (\\u5FAE\\u4FE1\\uFF0CEmail\\u6216\\u7535\\u8BDD\\u53F7\\u7801)\"\n  })), __jsx(Form.Item, {\n    label: \"\\u671F\\u671B\\u52A0\\u5165\\u7684\\u90E8\\u95E8 \\uFF08\\u7B2C\\u4E00\\u5FD7\\u613F\\uFF09\",\n    name: \"primaryInterest\",\n    rules: [{\n      required: true,\n      message: '请输入期望加入的部门'\n    }]\n  }, __jsx(Radio.Group, null, __jsx(Radio, {\n    value: \"\\u6D3B\\u52A8\\u7B56\\u5212\\u90E8\"\n  }, \"\\u6D3B\\u52A8\\u7B56\\u5212\\u90E8\"), __jsx(Radio, {\n    value: \"\\u65B0\\u95FB\\u5A92\\u4F53\\u90E8\"\n  }, \"\\u65B0\\u95FB\\u5A92\\u4F53\\u90E8\"), __jsx(Radio, {\n    value: \"\\u7F51\\u7EDC\\u6280\\u672F\\u90E8\"\n  }, \"\\u7F51\\u7EDC\\u6280\\u672F\\u90E8\"), __jsx(Radio, {\n    value: \"\\u5916\\u8054\\u516C\\u5173\\u90E8\"\n  }, \"\\u5916\\u8054\\u516C\\u5173\\u90E8\"))), __jsx(Form.Item, {\n    label: \"\\u671F\\u671B\\u52A0\\u5165\\u7684\\u90E8\\u95E8 \\uFF08\\u7B2C\\u4E8C\\u5FD7\\u613F\\uFF09\",\n    name: \"secondaryInterest\",\n    rules: [{\n      required: true,\n      message: '请输入期望加入的部门'\n    }]\n  }, __jsx(Radio.Group, null, __jsx(Radio, {\n    value: \"\\u6D3B\\u52A8\\u7B56\\u5212\\u90E8\"\n  }, \"\\u6D3B\\u52A8\\u7B56\\u5212\\u90E8\"), __jsx(Radio, {\n    value: \"\\u65B0\\u95FB\\u5A92\\u4F53\\u90E8\"\n  }, \"\\u65B0\\u95FB\\u5A92\\u4F53\\u90E8\"), __jsx(Radio, {\n    value: \"\\u7F51\\u7EDC\\u6280\\u672F\\u90E8\"\n  }, \"\\u7F51\\u7EDC\\u6280\\u672F\\u90E8\"), __jsx(Radio, {\n    value: \"\\u5916\\u8054\\u516C\\u5173\\u90E8\"\n  }, \"\\u5916\\u8054\\u516C\\u5173\\u90E8\"))), __jsx(Form.Item, {\n    // label=\"加入学联的理由\"\n    name: \"reason4Join\",\n    rules: [{\n      required: true,\n      message: '请输入加入学联的理由'\n    }]\n  }, __jsx(TextArea, {\n    rows: 3,\n    placeholder: \"*\\u52A0\\u5165\\u5B66\\u8054\\u7684\\u7406\\u7531\"\n  })), __jsx(Form.Item, {\n    // label=\"爱好特长\"\n    name: \"hobby\",\n    rules: [{\n      required: true,\n      message: '请输入爱好特长'\n    }]\n  }, __jsx(Input, {\n    placeholder: \"*\\u7231\\u597D\\u7279\\u957F\"\n  })), __jsx(Form.Item, {\n    // label=\"相关学生会经历\"\n    name: \"experience\",\n    rules: [{\n      required: true,\n      message: '请输入相关学生会经历'\n    }]\n  }, __jsx(TextArea, {\n    rows: 3,\n    placeholder: \"*\\u76F8\\u5173\\u5B66\\u751F\\u4F1A\\u7ECF\\u5386\"\n  })), __jsx(Form.Item, {\n    label: \"\\u9884\\u7EA6\\u9762\\u8BD5\\u65E5\\u671F\\uFF0C \\u4EC5\\u9650\\u5F00\\u5B66\\u540E\\u65E5\\u671F (\\u4EC5\\u4E3A\\u610F\\u5411\\uFF0C \\u4E0D\\u4F5C\\u4E3A\\u4E8B\\u4EF6\\u9762\\u8BD5\\u65E5\\u671F)\",\n    name: \"interviewDate\",\n    rules: [{\n      required: true,\n      message: '请输入预约面试日期'\n    }]\n  }, __jsx(DatePicker, null)), __jsx(Form.Item, null, __jsx(Button, {\n    style: {\n      width: \"100px\",\n      height: \"40px\",\n      fontWeight: 800,\n      \"float\": \"right\",\n      backgroundColor: \"rgba(128, 0,128, 0.25)\",\n      color: \"black\",\n      borderRadius: \"5px\"\n    },\n    type: \"text\",\n    htmlType: \"submit\"\n  }, \"\\u63D0\\u4EA4\")))))));\n}; // export async function getStaticProps() {\n//     // const users = await fetch(`${process.env.NEXT_PUBLIC_API}/users`);\n//     // const sponsors = await fetch(`${process.env.NEXT_PUBLIC_API}/sponsors`);\n//     // const usersJson = await users.json();\n//     // const sponsorsJson = await sponsors.json();\n//     // return {\n//     //     props: {\n//     //         users: usersJson,\n//     //         sponsors: JSON.parse(sponsorsJson.sponsorsList),\n//     //     },\n//     // };\n// }\n\n\nexport default JoinUs;","map":null,"metadata":{},"sourceType":"module"}