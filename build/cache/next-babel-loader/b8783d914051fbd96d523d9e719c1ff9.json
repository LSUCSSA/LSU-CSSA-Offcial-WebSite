{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/jun/WebstormProjects/LSU-CSSA-Offcial-WebSite/pages/info/[eventID].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport fetch from \"isomorphic-fetch\";\nimport { Typography } from \"antd\";\nvar Title = Typography.Title,\n    Text = Typography.Text;\n\nvar EventDetail = function EventDetail(_ref) {\n  _s();\n\n  var _news$content;\n\n  var news = _ref.news;\n  var router = useRouter(); // console.log(news.content);\n\n  var pid = router.query.pid;\n  return __jsx(\"div\", {\n    style: {\n      paddingTop: \"20px\",\n      maxWidth: \"677px\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    level: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }, news.title), __jsx(Text, {\n    type: \"secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }\n  }, news.author, \"  \", new Date(news.update_time).toLocaleDateString()), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: (_news$content = news.content) === null || _news$content === void 0 ? void 0 : _news$content.replace(/data-src/g, 'src').replace(/src=\"/g, 'src=http://img01.store.sogou.com/net/a/04/link?appid=100520029&url=')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }\n  })) // <Iframe\n  //     url=\"https://mp.weixin.qq.com/s?src=11&timestamp=1581048912&ver=2143&signature=zSjL*nUNjAGSYKVh*fhvhDxm7vxwpO383GhT3SoIRB3U6VAY5Nub3mXJYoSdBomuXVxsy56U0mxKjb4xDyQJncBlcdk*v0yzvh7zw6DG4ETIOkh3DrOLsyf-bz-BjPCw&new=1\"\n  //   width=\"100%\"\n  //   height=\"100%\"\n  // />\n  ;\n};\n\n_s(EventDetail, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = EventDetail;\n\nEventDetail.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var res, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"\".concat(process.env.NEXT_PUBLIC_API, \"/articles/\").concat(ctx.query.eventID));\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            json = _context.sent;\n            return _context.abrupt(\"return\", {\n              news: json\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default EventDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventDetail\");","map":{"version":3,"sources":["/Users/jun/WebstormProjects/LSU-CSSA-Offcial-WebSite/pages/info/[eventID].js"],"names":["useRouter","fetch","Typography","Title","Text","EventDetail","news","router","pid","query","paddingTop","maxWidth","marginLeft","marginRight","title","author","Date","update_time","toLocaleDateString","__html","content","replace","getInitialProps","ctx","process","env","NEXT_PUBLIC_API","eventID","res","json"],"mappings":";;;;;;;;;AAAA,SAAQA,SAAR,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAAQC,UAAR,QAAyB,MAAzB;IAEOC,K,GAAeD,U,CAAfC,K;IAAOC,I,GAAQF,U,CAARE,I;;AAEd,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAY;AAAA;;AAAA;;AAAA,MAAVC,IAAU,QAAVA,IAAU;AAC5B,MAAMC,MAAM,GAAGP,SAAS,EAAxB,CAD4B,CAE5B;;AAF4B,MAIrBQ,GAJqB,GAIdD,MAAM,CAACE,KAJO,CAIrBD,GAJqB;AAM5B,SACI;AAAK,IAAA,KAAK,EAAE;AAACE,MAAAA,UAAU,EAAE,MAAb;AAAqBC,MAAAA,QAAQ,EAAE,OAA/B;AAAwCC,MAAAA,UAAU,EAAE,MAApD;AAA4DC,MAAAA,WAAW,EAAE;AAAzE,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,KAAD;AAAO,IAAA,KAAK,EAAE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkBP,IAAI,CAACQ,KAAvB,CADJ,EAEI,MAAC,IAAD;AAAO,IAAA,IAAI,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBR,IAAI,CAACS,MAA9B,QAAwC,IAAIC,IAAJ,CAASV,IAAI,CAACW,WAAd,EAA2BC,kBAA3B,EAAxC,CAFJ,EAGI;AACI,IAAA,uBAAuB,EAAE;AAACC,MAAAA,MAAM,mBAAEb,IAAI,CAACc,OAAP,kDAAE,cAAcC,OAAd,CAAsB,WAAtB,EAAmC,KAAnC,EAA0CA,OAA1C,CAAkD,QAAlD,EAA4D,qEAA5D;AAAT,KAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,CAOI;AACA;AACA;AACA;AACA;AAXJ;AAaH,CAnBD;;GAAMhB,W;UACaL,S;;;KADbK,W;;AAoBNA,WAAW,CAACiB,eAAZ;AAAA,uEAA8B,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAERtB,KAAK,WAAIuB,OAAO,CAACC,GAAR,CAAYC,eAAhB,uBAA4CH,GAAG,CAACd,KAAJ,CAAUkB,OAAtD,EAFG;;AAAA;AAEpBC,YAAAA,GAFoB;AAAA;AAAA,mBAGPA,GAAG,CAACC,IAAJ,EAHO;;AAAA;AAGpBA,YAAAA,IAHoB;AAAA,6CAInB;AAACvB,cAAAA,IAAI,EAAEuB;AAAP,aAJmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;;AAAA;AAAA;AAAA;AAAA;;AAMA,eAAexB,WAAf","sourcesContent":["import {useRouter} from \"next/router\";\nimport fetch from \"isomorphic-fetch\";\nimport {Typography} from \"antd\";\n\nconst {Title, Text} = Typography;\n\nconst EventDetail = ({news}) => {\n    const router = useRouter();\n    // console.log(news.content);\n\n    const {pid} = router.query;\n\n    return (\n        <div style={{paddingTop: \"20px\", maxWidth: \"677px\", marginLeft: \"auto\", marginRight: \"auto\"}}>\n            <Title level={2}>{news.title}</Title>\n            <Text  type=\"secondary\">{news.author}  {new Date(news.update_time).toLocaleDateString()}</Text>\n            <div\n                dangerouslySetInnerHTML={{__html: news.content?.replace(/data-src/g, 'src').replace(/src=\"/g, 'src=http://img01.store.sogou.com/net/a/04/link?appid=100520029&url=')}}/>\n        </div>\n        // <Iframe\n        //     url=\"https://mp.weixin.qq.com/s?src=11&timestamp=1581048912&ver=2143&signature=zSjL*nUNjAGSYKVh*fhvhDxm7vxwpO383GhT3SoIRB3U6VAY5Nub3mXJYoSdBomuXVxsy56U0mxKjb4xDyQJncBlcdk*v0yzvh7zw6DG4ETIOkh3DrOLsyf-bz-BjPCw&new=1\"\n        //   width=\"100%\"\n        //   height=\"100%\"\n        // />\n    );\n};\nEventDetail.getInitialProps = async ctx => {\n    // const token = await fetch(`${API}/wechat/accessToken`);\n    const res = await fetch(`${process.env.NEXT_PUBLIC_API}/articles/${ctx.query.eventID}`);\n    const json = await res.json();\n    return {news: json};\n};\nexport default EventDetail;\n"]},"metadata":{},"sourceType":"module"}